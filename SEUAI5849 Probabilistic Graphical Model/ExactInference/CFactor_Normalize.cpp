/////////////////////////////////////////////////////////////////////////////////////////////
//文件名：		CFactor_Normalize.cpp
//功  能：		规范化因子
//开发者：		高志强
//日  期：		2021年03月15日
//更  新：		2021年03月23日
//更  新：		2021年03月29日
//长  度：		40行
/////////////////////////////////////////////////////////////////////////////////////////////
#include "stdafx.h"									//MFC标准头文件
#include "CFactor.h"								//因子类头文件
#include "Helper.h"									//辅助函数头文件


//名  称：		Normalize()
//功  能：		规范化因子
//参  数：		无
//返回值：		无
void CFactor::Normalize()
{	
	
	////////////////////////////////////////////////////////////
	//函数4：归一化因子。需要同学完成
	// 开始时间：21-5-27 12:07
	// 完成时间：21-5-27 12:15
	// 完成者：58119125蒋卓洋
	//////////////////////////////////////////
	// 分析：对某一因子的所有因子行进行归一化
	// 	   1.获取所有因子行对应概率的归一和
	// 	   2.将因子行所有概率值更新为原概率值与归一和的比值
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//1.获取所有因子行对应概率的归一和
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	double Sum_fValue = 0;//定义因子的概率归一值
	for (unsigned int i = 0; i < m_FactorRows.size(); i++) {//遍历累加
		Sum_fValue += m_FactorRows[i].fValue;
	}
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//2.将因子行所有概率值更新为原概率值与归一和的比值
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	for (unsigned int i = 0; i < m_FactorRows.size(); i++) {//遍历更新
		m_FactorRows[i].fValue = m_FactorRows[i].fValue / Sum_fValue;
	}
	
}